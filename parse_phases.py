import re\npat=re.compile(r'^\\d{4} .* stage=(\\w+)')\nranges=[]\ncurrent=None\nstart=None\nlast=None\nwith open('phase_output.txt','r',encoding='utf-8') as f:\n    for line in f:\n        line=line.strip()\n        if not line or line.startswith('Input') or line.startswith('Final'):\n            continue\n        parts=line.split(':',1)[0]\n        idx=int(parts.split()[0])\n        stage=line.split('stage=')[1].split(',')[0]\n        if current is None:\n            current=stage\n            start=idx\n        elif stage!=current:\n            ranges.append((current,start,idx-1))\n            current=stage\n            start=idx\n        last=idx\nif current is not None and last is not None:\n    ranges.append((current,start,last))\nfor stage,s,e in ranges:\n    print(f'{stage} {s} {e}')\n
